# 课程总结

- npm回顾
  - 明确了包的概念
    - 一个目录下面必须要有一个包的描述文件 package.json
  - 作用域包和非作用域包
  - 包的版本控制符号 ^ ~
- npm 进阶指令
  - 查看包信息相关的指令
    - 查看本地包 npm ls
    - 查看目录 npm root
    - 查看包是否过期 npm outdated
  - 配置相关的指令
    - npm config get xxxx
    - npm config set xxxx
  - 建立软连接 npm link
  - 查看帮助 npm help xxxx
- 包的说明文件 package.json
  - package.json 里面的配置项来源于两个地方
    - npm 支持的配置项
    - node.js 支持的配置项
  - 包信息相关的配置项
    - name
    - version
    - author
    - describe
    - bin：该配置项用于指定可执行文件的路径。当其他开发者通过 npm 安装了你发布的依赖后，bin 配置的可执行文件会被自动的链接到全局或者项目的可执行文件路径里面，从而允许用户直接在命令行执行这些命令。
  - 入口文件相关的配置
    - main：main 配置项用于指定模块的入口文件。如果没有配置 main，那么默认会去寻找 index.js 作为入口
    - module：该配置项用于指定 ESM 模块的入口文件，这对支持 ESM 打包工具（rollup、webpack）以及浏览器来讲就非常有用，它们就可以直接使用 ESM 版本的模块加载和优化。
    - type：配置项目中 js 所采用的模块类型。现在的 node.js，你 js 文件中使用哪一种模块都行，你只需要在 package.json 里面指定一下就可以了。type 只有两个值，module 和 commonjs，默认是 commonjs，如果是 commonjs 模式，那么项目中要使用 ESM 的话，后缀需要为 mjs，如果是 module 模式，那么项目中如果要使用 commonjs 的模块，后缀要为 cjs
    - types：types是用来配置 typescript 类型声明文件的入口的。
    - exports：从 node.js 12.8.0 开始支持的，该配置项允许我们更加精细的控制模块的导入导出方式以及入口文件。在设置了 exports 的情况下，node.js 会忽略 main 和 module 的配置。一般来讲，在配置了exorts配置项的情况下，main和module我们也会保留，主要就是为了兼容低版本的 node.js
- 发布 npm 包
  - 注册一个 npm 账号，注册的时候把邮箱验证
  - 通过 npm publish 进行发布
    - 设置忽略文件
      - 你发布的包里面有什么内容，回头别人通过 npm i xxx 安装你的包的时候就会有什么内容
      - 黑名单方式 .npmignore
      - 白名单方式 files
    - 发布之前一定要打包，只发布打包的文件
- 搭建私服
  - verdaccio
    - 掌握基本的使用即可
  - nrm 管理镜像
- yarn & pnpm
  - 它们都是包管理器，理论上来讲选择一个你用得习惯的即可，但是强烈推荐 pnpm
  - 了解 pnpm 相比 npm、yarn 优势在哪里？
    - 节省磁盘空间
    - 严格的依赖管理，node_modules 里面只有直接依赖，防止开发者引入幽灵依赖
- monorepo & multirepo
  - 明确仓库概念，一个经过版本控制工具初始化后的目录，我们才称之为是一个仓库
  - 管理多个项目的风格
  - 了解两者之间的区别，monorepo 的优缺点
- 搭建 monorepo 工程
  - pnpm + workspace 的方式
  - 了解什么是 workspace ？以及 pnpm 里面如何建立 workspace
  - 搭建了公共的函数库
  - 搭建了公共的组件库
  - 其他项目里面能够引用公共的函数库和组件库